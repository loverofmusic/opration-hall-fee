!function(l){function t(t){for(var a,e,o=t[0],n=t[1],r=t[2],i=0,s=[];i<o.length;i++)e=o[i],Object.prototype.hasOwnProperty.call(u,e)&&u[e]&&s.push(u[e][0]),u[e]=0;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(l[a]=n[a]);for(d&&d(t);s.length;)s.shift()();return h.push.apply(h,r||[]),c()}function c(){for(var t,a=0;a<h.length;a++){for(var e=h[a],o=!0,n=1;n<e.length;n++){var r=e[n];0!==u[r]&&(o=!1)}o&&(h.splice(a--,1),t=f(f.s=e[0]))}return t}var e={},u={app:0},h=[];function f(t){if(e[t])return e[t].exports;var a=e[t]={i:t,l:!1,exports:{}};return l[t].call(a.exports,a,a.exports,f),a.l=!0,a.exports}f.e=function(n){var t,a=[],e=u[n];if(0!==e)if(e)a.push(e[2]);else{var o=new Promise(function(t,a){e=u[n]=[t,a]});a.push(e[2]=o);var r,i=document.createElement("script");i.charset="utf-8",i.timeout=120,f.nc&&i.setAttribute("nonce",f.nc),i.src=f.p+"js/"+({about:"about"}[t=n]||t)+"."+{about:"a204d2bb"}[t]+".js";var s=new Error;r=function(t){i.onerror=i.onload=null,clearTimeout(l);var a=u[n];if(0!==a){if(a){var e=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;s.message="Loading chunk "+n+" failed.\n("+e+": "+o+")",s.name="ChunkLoadError",s.type=e,s.request=o,a[1](s)}u[n]=void 0}};var l=setTimeout(function(){r({type:"timeout",target:i})},12e4);i.onerror=i.onload=r,document.head.appendChild(i)}return Promise.all(a)},f.m=l,f.c=e,f.d=function(t,a,e){f.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},f.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},f.t=function(a,t){if(1&t&&(a=f(a)),8&t)return a;if(4&t&&"object"==typeof a&&a&&a.__esModule)return a;var e=Object.create(null);if(f.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:a}),2&t&&"string"!=typeof a)for(var o in a)f.d(e,o,function(t){return a[t]}.bind(null,o));return e},f.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return f.d(a,"a",a),a},f.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},f.p="",f.oe=function(t){throw console.error(t),t};var a=window.webpackJsonp=window.webpackJsonp||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var n=0;n<a.length;n++)t(a[n]);var d=o;h.push([0,"chunk-vendors"]),c()}({0:function(t,a,e){t.exports=e("56d7")},"0eaa":function(t,a,e){},"0fff":function(t,a,e){"use strict";var o=e("4cb8");e.n(o).a},"403e":function(t,a,e){},"4cb8":function(t,a,e){},"4dcb":function(t,a,e){},"56d7":function(t,a,e){"use strict";e.r(a),e("8bc6"),e("2d98"),e("041d"),e("3466"),e("c412");var o=e("6e6d"),n=(e("7c55"),e("4e82")),r=Object(n.a)({},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},[],!1,null,null,null).exports,i=(e("ff52"),e("c478")),s={},l=Object(n.a)(s,function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v(" BigScreenOpration ")])},[],!1,null,"b949d846",null).exports,c=(e("31f0"),e("f5a1"),e("5c11"),e("e8b0"),e("80f9"),e("dc2b"),e("f565"),e("a27f"),e("f010")),u=(e("4dcb"),e("403e"),e("2427")),h=e.n(u),f=e("4878"),d=e.n(f),p=e("4286"),g=e.n(p),m=1920,y=1080,b=document.documentElement,v=[b.clientWidth,b.clientHeight],C=v[0],x=v[1],w=m/y<C/x,D=C/m,S=x/y,B=b.clientWidth/100;b.style.fontSize=B+"px";var _=w?S:D,F=_,L=_,j=_,O={props:{hallBoxDatas:{type:Object,required:!0}},updated:function(){var t,a,e,o="ec_"+this.hallBoxDatas.hallId+"_pie",n=this.hallBoxDatas.businessList;t=n,a=o,e={title:{text:"临厅用户行为分析（月度）",x:"center",y:"top",textStyle:{fontSize:14*F,color:"#A2C3FF"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},color:[new g.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(67,215,239,1)"},{offset:1,color:"rgba(43,100,214,1)"}]),new g.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(60,43,214,1)"},{offset:1,color:"rgba(110,27,165,1)"}]),new g.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(67,136,239,1)"},{offset:1,color:"rgba(38,38,199,1)"}])],series:[{name:"数据组成",type:"pie",radius:["30%","45%"],center:["50%","60%"],label:{normal:{formatter:" {per|{d}%} \n {b|{b}}  ",rich:{per:{color:"#fff",fontSize:14*F,padding:[2,0]},b:{color:"#A2C3FF",fontSize:10*F,lineHeight:20*F}}}},data:[{value:t[0],name:"电费缴纳",itemStyle:{normal:{borderColor:"#02071E",borderWidth:3*F,label:{show:!0},labelLine:{show:!0}},emphasis:{borderColor:"#02071E",borderWidth:3*F}}},{value:t[1],name:"业务办理",itemStyle:{normal:{borderColor:"#02071E",borderWidth:3*F,label:{show:!0},labelLine:{show:!0}},emphasis:{borderColor:"#02071E",borderWidth:3*F}}},{value:t[2],name:"发票打印",itemStyle:{normal:{borderColor:"#02071E",borderWidth:3*F,label:{show:!0},labelLine:{show:!0}},emphasis:{borderColor:"#02071E",borderWidth:3*F}}}]}]},g.a.init(document.getElementById(a)).setOption(e);var r,i,s,l="ec_"+this.hallBoxDatas.hallId+"_line",c=this.hallBoxDatas.workerNameList,u=this.hallBoxDatas.workerCountList;r=u,i=l,s={title:{text:"员工工作量统计表（月度）",x:"center",y:"top",textStyle:{fontSize:14*L,color:"#A2C3FF"}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},grid:{left:20*L,right:16*L,bottom:12*L,top:70*L,containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:c,axisLabel:{interval:0,formatter:"{value}",textStyle:{color:"#6699FF",fontSize:8*L}},axisLine:{show:!0,lineStyle:{color:"#1D2A53"}},splitLine:{show:!0,lineStyle:{color:"#1D2A53"}}}],yAxis:[{type:"value",name:"          单位：业务办理笔数",nameTextStyle:{fontSize:8*L,color:"#6699FF"},axisLabel:{textStyle:{color:"#6699FF",fontSize:8*L}},axisLine:{show:!0,lineStyle:{color:"#1D2A53"}},splitLine:{show:!0,lineStyle:{color:"#1D2A53"}}}],series:[{name:"",type:"line",stack:"总量",label:{normal:{show:!0,position:"top",textStyle:{fontSize:8*L,color:"#fff"}}},symbolSize:5*L,itemStyle:{normal:{color:"#79DBFF",textStyle:{fontSize:30*L}}},lineStyle:{normal:{width:1}},areaStyle:{normal:{color:new g.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(73,134,253,1)"},{offset:1,color:"rgba(68,31,172,0.58)"}])}},data:r}]},g.a.init(document.getElementById(i)).setOption(s);var h,f,d,p,m="ec_"+this.hallBoxDatas.hallId+"_bar",y=this.hallBoxDatas.counter,b=this.hallBoxDatas.selfHelp;h=y,f=b,d=m,p={title:{text:"月度自助率统计（月度）",x:"center",y:"top",textStyle:{fontSize:14*j,color:"#A2C3FF"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{left:20*j,padding:[40*j,0,0,0],orient:"horizontal",itemWidth:6*j,itemHeight:6*j,color:"#6699FF",data:[{name:"柜台",icon:"circle",textStyle:{color:"#6699FF",fontSize:8*j}},{name:"自助终端",icon:"circle",textStyle:{color:"#6699FF",fontSize:8*j}}]},color:[new g.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(55,135,255,1) "},{offset:1,color:"rgba(3,56,149,0.58)"}]),new g.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(140,74,255,1)"},{offset:1,color:"rgba(44,11,135,0.58)"}])],grid:{left:20*j,right:20*j,bottom:12*j,top:70*j,containLabel:!0},xAxis:[{type:"category",data:["缴费","业务办理","发票打印"],axisLabel:{show:!0,textStyle:{color:"#6699FF",fontSize:8*j}},axisLine:{show:!0,lineStyle:{color:"#1D2A53"}}}],yAxis:[{type:"value",show:!0,axisLabel:{show:!1,textStyle:{color:"#6699FF",fontSize:8*j}},axisLine:{show:!1,lineStyle:{color:"#1D2A53"}},splitLine:{show:!0,lineStyle:{color:"#1D2A53"}}}],series:[{name:"柜台",type:"bar",barWidth:20*j,data:h,label:{show:!0,position:"top",color:"#fff",fontSize:8*j}},{name:"自助终端",type:"bar",barWidth:20*j,stack:"广告",data:f,label:{show:!0,position:"top",color:"#fff",fontSize:8*j}}]},g.a.init(document.getElementById(d)).setOption(p)}},E=Object(n.a)(O,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chart-wrap"},[e("h3",[t._v(" "+t._s(t.hallBoxDatas.hallName)+" ")]),e("div",{staticClass:"chart-inner"},[e("div",{staticClass:"inner-left"},[e("div",{staticClass:"left-top"},[e("div",{staticClass:"flow-con data-con"},[e("div",{staticClass:"data-tit"},[t._v("今日客流量")]),e("div",{staticClass:"data-num"},[e("span",{staticClass:"nbw"},[t._v(t._s(t.hallBoxDatas.todayCountFlow))]),e("span",{staticClass:"subtit"},[t._v("人")])]),e("div",{staticClass:"data-compare"},[e("div",{staticClass:"top",class:[0<t.hallBoxDatas.compareRateFlow?"green-up":"red-down"]},[e("span",[t._v(t._s(0<t.hallBoxDatas.compareRateFlow?"↑":"↓"))]),e("span",[t._v(t._s(t._f("toFixed")(t._f("formatAbs")(t.hallBoxDatas.compareRateFlow),1))+"%")])]),e("div",{staticClass:"bott"},[t._v("环比")])])]),e("div",{staticClass:"business-con data-con"},[e("div",{staticClass:"data-tit"},[t._v("今日业务量")]),e("div",{staticClass:"data-num"},[e("span",{staticClass:"nbw"},[t._v(t._s(t.hallBoxDatas.todayCountBusi))]),e("span",{staticClass:"subtit"},[t._v("笔")])]),e("div",{staticClass:"data-compare"},[e("div",{staticClass:"top",class:[0<t.hallBoxDatas.compareRateBusi?"green-up":"red-down"]},[e("span",[t._v(t._s(0<t.hallBoxDatas.compareRateBusi?"↑":"↓"))]),e("span",[t._v(t._s(t._f("toFixed")(t._f("formatAbs")(t.hallBoxDatas.compareRateBusi),1))+"%")])]),e("div",{staticClass:"bott"},[t._v("环比")])])])]),e("div",{staticClass:"left-bottom echart-all",attrs:{id:["ec_"+t.hallBoxDatas.hallId+"_line"]}})]),e("div",{staticClass:"inner-right"},[e("div",{staticClass:"right-top echart-all",attrs:{id:["ec_"+t.hallBoxDatas.hallId+"_pie"]}}),e("div",{staticClass:"right-bottom echart-all",attrs:{id:["ec_"+t.hallBoxDatas.hallId+"_bar"]}})])])])},[],!1,null,"1334f0a2",null).exports;function A(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),e.push.apply(e,o)}return e}var k={components:{BmlHeatmap:f.BmlHeatmap,HallBox:E},data:function(){return{center:{lng:118.790349,lat:32.048249},zoom:10,heatMapData:[],gradient:{.2:"rgb(114, 213, 8)",.3:"rgb(243, 239, 3)",.6:"rgb(255, 10, 0)"},polylinePath:[],mapStyle:{features:["road","building","water","land"],style:"midnight"},chenNan:{},chenBei:{},yuHua:{},qiXia:{},currentQuanty:[],hallBusinessForDayData:[],userAnalysis:[],impWorkloadCountData:[],selfBusinessCountData:[],hallTotalData:[],workersList:[],flagCount:0,flagCountTotal:5}},methods:{getSortFun:function(e,o){return function(t,a){return"desc"==o?t[e]<a[e]?1:-1:t[e]>a[e]?1:-1}},assignArray:function(){var e=this;this.flagCount===this.flagCountTotal&&(this.hallTotalData=this.userAnalysis.map(function(t,a){return function(a){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?A(Object(e),!0).forEach(function(t){Object(c.a)(a,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):A(Object(e)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(e,t))})}return a}({},e.currentQuanty[a],{},e.hallBusinessForDayData[a],{},t,{},e.workersList[a],{},e.selfBusinessCountData[a])}),this.chenNan=this.hallTotalData[1],this.chenBei=this.hallTotalData[0],this.yuHua=this.hallTotalData[3],this.qiXia=this.hallTotalData[2],console.info(this.hallTotalData))},loadHeatmap:function(){var a=this;h.a.get("/json/hall/getHeatMapData.json").then(function(t){a.heatMapData=t.data}).catch(function(t){})},loadPolylinePath:function(){var a=this;h()({url:"/json/map/polylinePath.json",method:"GET"}).then(function(t){a.polylinePath=t.data.polylinePath}).catch(function(t){})},getCurrentQuanty:function(){var a=this;h()({url:"/json/hall/getCurrentQuanty.json",method:"GET"}).then(function(t){a.currentQuanty=t.data,a.currentQuanty.forEach(function(t){var a=(t.todayCount-t.yestodayCount)/t.yestodayCount*100;t.compareRateFlow=a,t.todayCountFlow=t.todayCount}),a.flagCount+=1,a.assignArray()}).catch(function(t){})},getHallBusinessForDayData:function(){var a=this;h()({url:"/json/hall/getHallBusinessForDayData.json",method:"GET"}).then(function(t){a.hallBusinessForDayData=t.data.content,a.hallBusinessForDayData.forEach(function(t){var a=(t.todayCount-t.yestodayCount)/t.yestodayCount*100;t.compareRateBusi=a,t.todayCountBusi=t.todayCount}),a.flagCount+=1,a.assignArray()}).catch(function(t){})},getLtUserAnalysis:function(){var e=this;h()({url:"/json/hall/getLtUserAnalysis.json",method:"GET"}).then(function(t){e.userAnalysis=t.data,e.userAnalysis.forEach(function(t){t.businessType.forEach(function(t){t.type=parseInt(t.type)}),t.businessType.sort(e.getSortFun("type"));var a=[];t.businessType.forEach(function(t){a.push(t.count)}),t.businessList=a}),e.flagCount+=1,e.assignArray()}).catch(function(t){})},getImpWorkloadCountData:function(){var o=this;h()({url:"/json/hall/getImpWorkloadCountData.json",method:"GET"}).then(function(t){o.workersList=[];for(var a=0;a<4;a++){var e={};e.hallId=a+1+"",e.workerNameList=[],e.workerCountList=[],o.workersList.push(e)}o.impWorkloadCountData=t.data,o.impWorkloadCountData.forEach(function(a){o.workersList.forEach(function(t){a.BUSINESS_HALL_ID==t.hallId&&(t.workerNameList.push(a.FULL_NAME),t.workerCountList.push(a.COUNT))})}),o.flagCount+=1,o.assignArray()}).catch(function(t){})},getSelfBusinessCountData:function(){var a=this;h()({url:"/json/hall/getSelfBusinessCountData.json",method:"GET"}).then(function(t){a.selfBusinessCountData=t.data,a.flagCount+=1,a.assignArray()}).catch(function(t){})}},mounted:function(){this.loadHeatmap(),this.loadPolylinePath(),this.getCurrentQuanty(),this.getHallBusinessForDayData(),this.getLtUserAnalysis(),this.getImpWorkloadCountData(),this.getSelfBusinessCountData();var t,a=document.getElementById("main-wrap");t=a,w?(t.style.width=x*m/y+"px",t.style.height="100%"):(t.style.height=C*y/m+"px",t.style.width="100%")}},P=(e("0fff"),Object(n.a)(k,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"container"}},[t._m(0),e("div",{attrs:{id:"main-wrap"}},[e("main",{attrs:{id:"main"}},[e("div",{staticClass:"l"},[e("div",{staticClass:"l-t"},[e("hall-box",{attrs:{hallBoxDatas:t.chenNan}})],1),e("div",{staticClass:"l-b"},[e("hall-box",{attrs:{hallBoxDatas:t.chenBei}})],1)]),e("div",{staticClass:"m"},[e("div",{staticClass:"map-wrap"},[e("span",{staticClass:"hot-map-tit"},[t._v("南京市热力图分布")]),e("baidu-map",{staticClass:"baidu-map",attrs:{center:t.center,zoom:t.zoom,mapStyle:t.mapStyle,"scroll-wheel-zoom":!0}},[e("bml-heatmap",{attrs:{data:t.heatMapData,max:1,radius:5,gradient:t.gradient}}),e("bm-polyline",{attrs:{path:t.polylinePath,"stroke-color":"#41cfed","stroke-opacity":.8,"stroke-weight":3}})],1)],1)]),e("div",{staticClass:"r"},[e("div",{staticClass:"r-t"},[e("hall-box",{attrs:{hallBoxDatas:t.yuHua}})],1),e("div",{staticClass:"r-b"},[e("hall-box",{attrs:{hallBoxDatas:t.qiXia}})],1)])])])])},[function(){var t=this.$createElement,a=this._self._c||t;return a("header",[a("h1",[this._v("营业厅运营监测平台")])])}],!1,null,null,null)).exports;o.a.use(i.a);var T=[{path:"/",redirect:"/hall",meta:{title:"ddd"}},{path:"/hall",name:"hall",component:P,meta:{title:"营业厅运营监测平台"}},{path:"/opration",name:"opration",component:l,meta:{title:"智能营电管控平台"}},{path:"/fee",name:"fee",meta:{title:"抄表催费业务管控平台"},component:function(){return e.e("about").then(e.bind(null,"8d34"))}}],z=new i.a({routes:T});o.a.use(d.a,{ak:"WestGzMBGDQHxb9GBf1bGngfsM7FOrBh"}),o.a.config.productionTip=!1,z.beforeEach(function(t,a,e){t.meta.title&&(document.title=t.meta.title),e()}),o.a.filter("formatAbs",function(t){return Math.abs(t)}),o.a.filter("toFixed",function(t,a){return a=void 0!==a?Math.pow(10,a):100,Math.round(t*a)/a}),new o.a({router:z,render:function(t){return t(r)}}).$mount("#app")},"7c55":function(t,a,e){"use strict";var o=e("0eaa");e.n(o).a}});